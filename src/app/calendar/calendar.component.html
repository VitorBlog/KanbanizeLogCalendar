<section>
  <div class="columns page">
    <div class="calendar column is-6">
      <section class="hero">
        <div class="hero-body has-text-centered pt-5">
          <p class="title">
            <span class="is-primary is-clickable arrow" (click)="changeMonth(-1)"><</span>
            {{ getMonth() }} - {{ showDate.getFullYear() }}
            <span class="is-primary is-clickable arrow" (click)="changeMonth(1)">></span>
          </p>
          <p class="subtitle">
            Total of {{ formatTime(totalHours) }}.
          </p>
          <hr>
          <div class="columns is-flex-wrap-wrap is-flex-direction-row is-justify-content-center is-align-content-flex-start">
              <div
                class="column date is-clickable"
                *ngFor="let date of dates"
                (click)="changeDate(date)"
                [class.selected]="showDate.getDate() == date.getDate()"
                [class.special]="date.getDay() == 0 || date.getDay() == 6"
                [class.otherMonth]="showDate.getMonth() != date.getMonth()">
                <p>{{ formatDate(date.getDate()) }}</p>
                <span class="hour has-text-grey">{{ loading? '??' : getHours(date.getDate(), false) }}</span>
              </div>
          </div>
        </div>
      </section>
    </div>
    <div class="log-list column p-4">
      <section class="hero">
        <div class="hero-body has-text-centered pt-5">
          <p class="title has-text-white">
            Day {{ formatDate(showDate.getDate()) }}
          </p>
          <p class="subtitle has-text-white">
            Total of {{ getHours() }}.
          </p>
          <hr>
          <div *ngIf="loading" class="columns">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="114px" height="114px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
              <circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="3" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">
                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"/>
              </circle>
              <!-- [ldio] generated by https://loading.io/ -->
            </svg>
          </div>
          <section class="logs">
            <div class="box" *ngFor="let loggedCard of getTodayLogs()">
              <h3 class="has-text-weight-bold">{{ loggedCard.id }}: {{ loggedCard.title }}</h3>
              <hr>
              <table class="table is-fullwidth is-striped is-bordered">
                <thead>
                <tr>
                  <th class="has-text-centered">HOURS</th>
                  <th class="has-text-centered">DESCRIPTION</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let log of loggedCard.log">
                  <td>{{ formatTime(log.loggedtime) }}</td>
                  <td>{{ log.description }}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>
    </div>
  </div>
</section>
